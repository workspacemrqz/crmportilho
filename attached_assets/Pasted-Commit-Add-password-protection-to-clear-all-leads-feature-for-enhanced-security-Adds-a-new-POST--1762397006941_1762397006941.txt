Commit: Add password protection to clear all leads feature for enhanced security

Adds a new POST endpoint `/api/leads/clear-all` to securely clear all leads and conversation history, requiring a password validation against the `SENHAPRINCIPAL` environment variable. The UI confirmation dialog is updated to include a password input field and the destructive button no longer has an orange outline.

Replit-Commit-Author: Agent
Replit-Commit-Session-Id: 4aefb6ca-3622-4ea7-9548-289883f3f8d1
Replit-Commit-Checkpoint-Type: full_checkpoint
Replit-Commit-Event-Id: 2361cca7-e9d6-4482-9792-d9de387d2025
Replit-Commit-Screenshot-Url: https://storage.googleapis.com/screenshot-production-us-central1/504fb1c4-be4a-403c-bb67-b2d9300ba19e/4aefb6ca-3622-4ea7-9548-289883f3f8d1/AQ3VBn0 
##########################################
### Download Github Archive Started...
### Thu, 06 Nov 2025 02:38:24 GMT
##########################################

24: Pulling from heroku/builder
Digest: sha256:3d4106980e8afb3edaeb736a125349e5417b4ad4aa1350f724cfa8c3bc908088
Status: Image is up to date for heroku/builder:24
24: Pulling from heroku/heroku
Digest: sha256:f9b82a4f35d0bb9665b43a4d5780e783a39394877405c3a107a9b8396dc42dbb
Status: Image is up to date for heroku/heroku:24
0.20.16: Pulling from buildpacksio/lifecycle
Digest: sha256:f52d52f3736a5ce0c2ed57f04a4ea75f2cab2ba27849a894d1f2c45000e6aa3a
Status: Image is up to date for buildpacksio/lifecycle:0.20.16
===> ANALYZING
===> DETECTING
[detector] 2 of 3 buildpacks participating
[detector] heroku/nodejs   5.2.3
[detector] heroku/procfile 4.2.1
===> RESTORING
[restorer] Skipping buildpack layer analysis
===> BUILDING
[builder] 
[builder] ## Heroku Node.js
[builder] 
[builder] - Checking Node.js version
[builder]   - Node.js version not specified, using `22.x`
[builder]   - Resolved Node.js version: `22.21.1`
[builder] - Installing Node.js distribution
[builder]   - GET https://nodejs.org/download/release/v22.21.1/node-v22.21.1-linux-x64.tar.gz ... (OK)
[builder]   - Downloading ..... (2.7s)
[builder]   - Verifying checksum
[builder]   - Extracting Node.js `22.21.1 (linux-amd64)`
[builder]   - Installing Node.js `22.21.1 (linux-amd64)` ... (< 0.1s)
[builder] - Installing node modules
[builder]   - Using npm version `10.9.4`
[builder]   - Creating npm cache
[builder]   - Configuring npm cache directory
[builder]   - Running `npm ci`
[builder] 
[builder]       npm warn deprecated node-domexception@1.0.0: Use your platform's native DOMException instead
[builder]       npm warn deprecated @esbuild-kit/esm-loader@2.6.5: Merged into tsx: https://tsx.is
[builder]       npm warn deprecated @esbuild-kit/core-utils@3.3.2: Merged into tsx: https://tsx.is
[builder] 
[builder]       added 551 packages, and audited 552 packages in 9s
[builder] 
[builder]       74 packages are looking for funding
[builder]         run `npm fund` for details
[builder] 
[builder]       6 vulnerabilities (1 low, 5 moderate)
[builder] 
[builder]       To address issues that do not require attention, run:
[builder]         npm audit fix
[builder] 
[builder]       To address all issues (including breaking changes), run:
[builder]         npm audit fix --force
[builder] 
[builder]       Run `npm audit` for details.
[builder] 
[builder]   - Done (8.7s)
[builder] - Running scripts
[builder]   - Running `npm run build`
[builder] 
[builder] 
[builder]       > rest-express@1.0.0 build
[builder]       > vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist
[builder] 
[builder]       vite v5.4.20 building for production...
[builder]       transforming...
[builder]       Browserslist: browsers data (caniuse-lite) is 13 months old. Please run:
[builder]         npx update-browserslist-db@latest
[builder]         Why you should do it regularly: https://github.com/browserslist/update-db#readme
[builder] 
[builder]       A PostCSS plugin did not pass the `from` option to `postcss.parse`. This may cause imported assets to be incorrectly transformed. If you've recently added a PostCSS plugin that raised this warning, please contact the package author to fix the issue.
[builder]       ✓ 3385 modules transformed.
[builder]       rendering chunks...
[builder]       computing gzip size...
[builder]       ../dist/public/index.html                            0.84 kB │ gzip:   0.45 kB
[builder]       ../dist/public/assets/Logo laranja-FVM4djzP.png     90.97 kB
[builder]       ../dist/public/assets/index-Cru2sW_N.css            76.71 kB │ gzip:  13.05 kB
[builder]       ../dist/public/assets/index-BmTniGET.js          1,007.59 kB │ gzip: 286.03 kB
[builder] 
[builder]       (!) Some chunks are larger than 500 kB after minification. Consider:
[builder]       - Using dynamic import() to code-split the application
[builder]       - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
[builder]       - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
[builder]       ✓ built in 8.14s
[builder] 
[builder]         dist/index.js  324.9kb
[builder] 
[builder]       ⚡ Done in 24ms
[builder] 
[builder]   - Done (8.5s)
[builder] - Pruning dev dependencies
[builder]   - Running `npm prune`
[builder] 
[builder] 
[builder]       up to date, audited 552 packages in 1s
[builder] 
[builder]       74 packages are looking for funding
[builder]         run `npm fund` for details
[builder] 
[builder]       6 vulnerabilities (1 low, 5 moderate)
[builder] 
[builder]       To address issues that do not require attention, run:
[builder]         npm audit fix
[builder] 
[builder]       To address all issues (including breaking changes), run:
[builder]         npm audit fix --force
[builder] 
[builder]       Run `npm audit` for details.
[builder] 
[builder]   - Done (1.2s)
[builder] - Configuring default processes
[builder]   - Skipping default web process (Procfile detected)
[builder] - Done (finished in 21.9s)
[builder] 
[builder] ## Procfile Buildpack
[builder] 
[builder] - Processes from `Procfile`
[builder]   - web: `NODE_ENV=production node dist/index.js`
[builder] - Done (finished in < 0.1s)
===> EXPORTING
[exporter] Reusing layer 'heroku/nodejs:available_parallelism'
[exporter] Reusing layer 'heroku/nodejs:dist'
[exporter] Reusing layer 'heroku/nodejs:npm_runtime_config'
[exporter] Reusing layer 'heroku/nodejs:web_env'
[exporter] Reusing layer 'buildpacksio/lifecycle:launch.sbom'
[exporter] Added 1/1 app layer(s)
[exporter] Reusing layer 'buildpacksio/lifecycle:launcher'
[exporter] Reusing layer 'buildpacksio/lifecycle:config'
[exporter] Reusing layer 'buildpacksio/lifecycle:process-types'
[exporter] Adding label 'io.buildpacks.lifecycle.metadata'
[exporter] Adding label 'io.buildpacks.build.metadata'
[exporter] Adding label 'io.buildpacks.project.metadata'
[exporter] Setting default process type 'web'
[exporter] Saving easypanel/sites/crm-portilho...
[exporter] *** Images (2ba154205a47):
[exporter]       easypanel/sites/crm-portilho
[exporter] Adding cache layer 'heroku/nodejs:dist'
[exporter] Adding cache layer 'heroku/nodejs:npm_cache'
Successfully built image 'easypanel/sites/crm-portilho'
##########################################
### Success
### Thu, 06 Nov 2025 02:39:19 GMT
##########################################